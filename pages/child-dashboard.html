<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanFun - Painel dos Filhos</title>
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="child-theme">
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <span class="finan-text">FinanFun</span>
            </div>
            <div class="loading-spinner"></div>
            <p>Carregando sua aventura financeira...</p>
        </div>
    </div>

    <div id="dashboard-container" class="dashboard-container hidden">
        <header class="dashboard-header child-header">
            <div class="header-left">
                <div class="logo">
                    <span class="finan-text">FinanFun</span>
                </div>
                <h1>Minha Jornada Financeira</h1>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <img id="user-avatar" src="" alt="Avatar" class="user-avatar">
                    <div class="user-details">
                        <span id="user-name" class="user-name"></span>
                        <span class="user-role">Jovem Investidor</span>
                    </div>
                </div>
                <button id="logout-btn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </header>

        <main class="dashboard-main">
            <div class="dashboard-grid child-grid">
                <!-- Balance Cards -->
                <div class="balance-section">
                    <div class="balance-card bitfun-card">
                        <div class="balance-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="balance-content">
                            <h3>BitFun (Moeda Virtual)</h3>
                            <p id="bitfun-balance" class="balance-value">0 BFN</p>
                            <div class="balance-actions">
                                <button class="action-btn" onclick="viewTransactions('bitfun')">
                                    <i class="fas fa-history"></i>
                                    Histórico
                                </button>
                                <button class="action-btn" onclick="viewGoals()">
                                    <i class="fas fa-target"></i>
                                    Metas
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="balance-card real-card">
                        <div class="balance-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="balance-content">
                            <h3>Conta Real</h3>
                            <p id="real-balance" class="balance-value">R$ 0,00</p>
                            <div class="balance-actions">
                                <button class="action-btn" onclick="viewTransactions('real')">
                                    <i class="fas fa-history"></i>
                                    Extrato
                                </button>
                                <button class="action-btn" onclick="continueLearning()">
                                    <i class="fas fa-graduation-cap"></i>
                                    Aprender
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tasks Section -->
                <div class="tasks-section">
                    <div class="section-header">
                        <h2>Minhas Tarefas</h2>
                        <div class="progress-indicator">
                            <span id="task-progress">0/0</span>
                            <div class="progress-bar">
                                <div id="task-progress-fill" class="progress-fill"></div>
                            </div>
                        </div>
                    </div>
                    <div id="tasks-container" class="tasks-container">
                        <!-- Tasks will be loaded here -->
                    </div>
                </div>

                <!-- Achievements Section -->
                <div class="achievements-section">
                    <div class="section-header">
                        <h2>Conquistas</h2>
                        <button class="view-all-btn" onclick="viewAllAchievements()">Ver Todas</button>
                    </div>
                    <div id="achievements-container" class="achievements-container">
                        <!-- Achievements will be loaded here -->
                    </div>
                </div>

                <!-- AI Avatar Chat -->
                <div class="avatar-section">
                    <div class="avatar-container">
                        <div class="avatar-image">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="avatar-info">
                            <h3>Seu Assistente FinanFun</h3>
                            <p>Estou aqui para te ajudar a aprender sobre dinheiro!</p>
                            <button id="chat-toggle" class="chat-btn" onclick="toggleChat()">
                                <i class="fas fa-comments"></i>
                                Conversar
                            </button>
                        </div>
                    </div>
                    
                    <div id="chat-window" class="chat-window hidden">
                        <div class="chat-header">
                            <span>Chat com IA</span>
                            <button onclick="toggleChat()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="chat-messages" id="chat-messages">
                            <div class="chat-message bot">
                                <p>Olá! Sou seu assistente financeiro. Como posso te ajudar hoje?</p>
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chat-input" placeholder="Digite sua pergunta...">
                            <button onclick="sendMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Learning Progress -->
                <div class="learning-section">
                    <div class="section-header">
                        <h2>Progresso de Aprendizado</h2>
                        <span id="learning-percentage" class="progress-percentage">0%</span>
                    </div>
                    <div class="learning-progress">
                        <div class="progress-bar large">
                            <div id="learning-progress-fill" class="progress-fill"></div>
                        </div>
                        <div class="learning-topics">
                            <div class="topic completed">
                                <i class="fas fa-check"></i>
                                <span>Básico sobre Dinheiro</span>
                            </div>
                            <div class="topic current">
                                <i class="fas fa-play"></i>
                                <span>Poupança e Investimentos</span>
                            </div>
                            <div class="topic">
                                <i class="fas fa-lock"></i>
                                <span>Empreendedorismo</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Ações Rápidas</h3>
                    <div class="action-buttons">
                        <button class="quick-action-btn" onclick="customizeAvatar()">
                            <i class="fas fa-user-edit"></i>
                            <span>Personalizar Avatar</span>
                        </button>
                        <button class="quick-action-btn" onclick="viewGoals()">
                            <i class="fas fa-bullseye"></i>
                            <span>Minhas Metas</span>
                        </button>
                        <button class="quick-action-btn" onclick="continueLearning()">
                            <i class="fas fa-book"></i>
                            <span>Continuar Aprendendo</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/child-dashboard.js?v=20250620-0130"></script>
</body>
</html>